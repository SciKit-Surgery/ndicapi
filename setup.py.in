import setuptools
import sys

mac_indicator = 'darwin'
linux_indicator = 'linux'
windows_indicator = 'win'
platform = sys.platform

extra_link_args = []
if platform.startswith(mac_indicator):
    extra_link_args.append('-Wl')  # pass the following options to linker

libraries=[]
if platform.startswith(windows_indicator):
    libraries.append('wsock32')
    libraries.append('ws2_32')

ndicapy = setuptools.Extension('ndicapy',
                    sources=[
                        'ndicapi.cxx',
                        'ndicapi_math.cxx',
                        'ndicapi_serial.cxx',
                        'ndicapi_thread.cxx',
                        'ndicapi_socket.cxx',
                        'ndicapimodule.cxx',
                    ],
                    extra_link_args=extra_link_args,
                    libraries=libraries,
                    )

setuptools.setup(name='ndicapi',
      version='3.2',
      description='This package allows interfacing with NDI tracking devices',
      ext_modules=[ndicapy],
      )
